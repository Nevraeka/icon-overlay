{"version":3,"sources":["icon-overlay.dev.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","value","_setPrototypeOf","_wrapNativeSuper","Class","_cache","Map","undefined","_isNativeFunction","has","get","set","Wrapper","_construct","arguments","_getPrototypeOf","isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","e","Parent","args","a","push","apply","Function","bind","fn","indexOf","o","p","setPrototypeOf","__proto__","getPrototypeOf","document","window","loadScript","url","callback","script","createElement","type","readyState","onreadystatechange","onload","src","getElementsByTagName","appendChild","loadImgIcon","loadComponent","customElements","IconOverlay","_HTMLElement","_this","_root","state","icon","HTMLElement","element","source","attachShadow","mode","render","component","ShadyCSS","styleElement","$template","innerHTML","concat","getAttribute","prepareTemplate","importNode","content","updatePosition","name","oldVal","newVal","define","removeAttribute","style","setProperty","split","forEach","styl","test","CustomEvent","event","params","bubbles","cancelable","composed","detail","evt","createEvent","initCustomEvent","Event"],"mappings":"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","file":"icon-overlay.min.map","sourceRoot":"..","sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _construct(Parent, args, Class) { if (isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n(function (document, window) {\n  if (!window || !document) {\n    return;\n  }\n\n  if (!window.customElements || !HTMLElement.prototype.attachShadow) {\n    loadScript('https://cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/1.2.0/webcomponents-sd-ce.js', loadImgIcon);\n  } else {\n    loadImgIcon();\n  }\n\n  (function () {\n    if (typeof window.CustomEvent === \"function\") {\n      return false;\n    }\n\n    function CustomEvent(event, params) {\n      params = params || {\n        bubbles: true,\n        cancelable: false,\n        composed: true,\n        detail: undefined\n      };\n      var evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail, params.composed);\n      return evt;\n    }\n\n    CustomEvent.prototype = window.Event.prototype;\n    window.CustomEvent = CustomEvent;\n  })();\n\n  function loadScript(url, callback) {\n    var script = document.createElement(\"script\");\n    script.type = \"text/javascript\";\n\n    if (script.readyState) {\n      script.onreadystatechange = function () {\n        if (script.readyState === \"loaded\" || script.readyState === \"complete\") {\n          script.onreadystatechange = null;\n          callback();\n        }\n      };\n    } else {\n      script.onload = function () {\n        callback();\n      };\n    }\n\n    script.src = url;\n    document.getElementsByTagName(\"head\")[0].appendChild(script);\n  }\n\n  function loadImgIcon() {\n    loadScript('https://cdn.rawgit.com/Nevraeka/img-icon/master/img-icon.js', loadComponent);\n  }\n\n  function loadComponent() {\n    if (!window.customElements.get('icon-overlay')) {\n      var IconOverlay =\n      /*#__PURE__*/\n      function (_HTMLElement) {\n        _inherits(IconOverlay, _HTMLElement);\n\n        _createClass(IconOverlay, null, [{\n          key: \"deps\",\n          get: function get() {\n            return [{\n              element: 'img-icon',\n              source: 'https://cdn.rawgit.com/Nevraeka/img-icon/master/img-icon.js'\n            }];\n          }\n        }]);\n\n        function IconOverlay() {\n          var _this;\n\n          _classCallCheck(this, IconOverlay);\n\n          _this = _possibleConstructorReturn(this, _getPrototypeOf(IconOverlay).call(this));\n          _this._root = null;\n          _this.state = {\n            icon: null\n          };\n          return _this;\n        }\n\n        _createClass(IconOverlay, [{\n          key: \"connectedCallback\",\n          value: function connectedCallback() {\n            if (this._root === null) {\n              this._root = this.attachShadow({\n                mode: \"open\"\n              });\n            } else {\n              this._root = this;\n            }\n\n            render(this);\n            updatePosition(this, this.getAttribute('position') || '');\n          }\n        }, {\n          key: \"attributeChangedCallback\",\n          value: function attributeChangedCallback(name, oldVal, newVal) {\n            if (oldVal === newVal) {\n              return;\n            }\n\n            if (name === 'icon') {\n              this.state.icon = newVal;\n            }\n\n            if (name === 'position') {\n              updatePosition(this, newVal);\n            }\n          }\n        }, {\n          key: \"icon\",\n          get: function get() {\n            return this.state.icon;\n          }\n        }]);\n\n        return IconOverlay;\n      }(_wrapNativeSuper(HTMLElement));\n\n      window.customElements.define('icon-overlay', IconOverlay);\n    }\n  }\n\n  function updatePosition(component, value) {\n    component.removeAttribute('style');\n\n    if (value) {\n      component.style.setProperty('--icon-overlay--position', 'absolute');\n      var positions = value.split(' ');\n      positions.forEach(function (styl) {\n        if (/(bottom)|(top)|(left)|(right)/.test(value)) {\n          component.style.setProperty(\"--icon-overlay--\".concat(styl), '0px');\n        }\n\n        if (/(center)/.test(value)) {\n          component.style.setProperty('--icon-overlay--left', 'calc(50% - 16px)');\n        }\n\n        if (/(middle)/.test(value)) {\n          component.style.setProperty('--icon-overlay--top', 'calc(50% - 16px)');\n        }\n      });\n    }\n  }\n\n  function render(component) {\n    if (!component._root) {\n      return;\n    }\n\n    if (window.ShadyCSS) {\n      ShadyCSS.styleElement(component);\n    }\n\n    var $template = document.createElement('template');\n    $template.innerHTML = \"\\n      <style>\\n        :host {\\n          --img-icon--color: #fff;\\n          display: flex;\\n          align-items: center;\\n          justify-content: center;\\n          width: 24px;\\n          height: 24px;\\n          padding: 8px;\\n          background-color: rgba(0,0,0, .7);\\n          background-color: var(--icon-overlay--bkg, rgba(0,0,0, .7));\\n          position: var(--icon-overlay--position, 'static');\\n          top: var(--icon-overlay--top);\\n          left: var(--icon-overlay--left);\\n          right: var(--icon-overlay--right);\\n          bottom: var(--icon-overlay--bottom);\\n        }\\n      </style>\\n      <img-icon fill=\\\"100\\\" shape=\\\"\".concat(component.getAttribute('icon') || '', \"\\\"></img-icon>\\n    \");\n\n    if (window.ShadyCSS) {\n      ShadyCSS.prepareTemplate($template, 'icon-overlay');\n    }\n\n    component._root.appendChild(document.importNode($template.content, true));\n  }\n})(document, window);\n"]}